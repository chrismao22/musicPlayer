{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/css/main.less?c94b","webpack:///./src/js/class/Mediar.js","webpack:///./src/js/event/bottomControl.js","webpack:///./src/js/index.js","webpack:///./src/js/page/append.js","webpack:///./src/js/utils/getCookie.js","webpack:///./src/js/utils/getData.js","webpack:///./src/js/utils/radomColor.js","webpack:///./src/js/utils/random.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA,uC;;;;;;;;;;;;ACAA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA,0B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuC;AACE;AACD;AACC;AACE;AAC3C,mBAAmB,oDAAM;AACzB;AACA,YAAY,6DAAS;AACrB;AACA;AACA;AACA;AACA,8DAAO;AACP;AACA,IAAI,4DAAW;AACf;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,4DAAW;AACnB;AACA,KAAK;AACL,QAAQ,4DAAW;AACnB;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,QAAQ,4DAAW;AACnB;AACA,KAAK;AACL,QAAQ,4DAAW;AACnB;AACA;AACA;AACA,CAAC;AACD;AACA,QAAQ,gEAAS;AACjB,YAAY,gEAAS;AACrB,iCAAiC,eAAe;AAChD;AACA;AACA,SAAS;AACT,iCAAiC,eAAe;AAChD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,iCAAiC,eAAe;AAChD,SAAS;AACT;AACA;AACA,iCAAiC,eAAe;AAChD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,oCAAoC,IAAI;AACxC;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,SAAS,GAAG,SAAS;AACxD,aAAa;AACb,mCAAmC,SAAS,IAAI,SAAS;AACzD;AACA,SAAS;AACT;AACA,SAAS;AACT,iCAAiC,QAAQ;AACzC;AACA,KAAK;AACL,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,2DAA2D;AAC/E,KAAK;AACL;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC,SAAS;AACT;AACA,CAAC;AACD;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC,C;;;;;;;;;;;;ACnND;AAAA;AAAA;AAAA;AAA0B;;;;;;;;;;;;;ACA1B;AAAA;AAAA;AAAA;AAAA;AAA8C;AACT;AACM;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACe;AACf;AACA,kBAAkB,iEAAW,CAAC,6DAAM;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,aAAa,IAAI,aAAa,EAAE;AAChG,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,gEAAS;AACjB,YAAY,gEAAS;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA,oBAAoB,OAAO,GAAG,OAAO;AACrC,C;;;;;;;;;;;;AC7DA;AAAA;AAAe;AACf,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACTA;AAAA;AAAe;AACf;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;ACJA;AAAA;AAAA;AACA;AACe;AACf;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACPA;AAAA;AAAe;AACf;AACA,C","file":"js/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/index.js\");\n","// extracted by mini-css-extract-plugin","export class Mediar {\r\n    constructor() {\r\n        this.stats = 'pause';\r\n        this.audio = new Audio();\r\n    }\r\n    play(){\r\n        this.audio.play(); \r\n        this.stats = 'play';\r\n    }\r\n    pause(){\r\n        this.audio.pause();\r\n        this.stats = 'pause';\r\n    }\r\n    getAudio(src){\r\n        this.audio.src = src;\r\n        this.audio.load();\r\n    }\r\n}","import getData from '../utils/getData';\r\nimport information from '../page/append';\r\nimport randomNum from '../utils/random';\r\nimport { Mediar } from '../class/Mediar';\r\nimport getCookie from '../utils/getCookie';\r\nconst mediar = new Mediar();\r\nlet data = null;\r\nlet index = randomNum(0, 5);\r\nlet curTime = null;\r\nlet curTimeM = null;\r\nlet curTimeS = null;\r\nlet percent = null;\r\ngetData('./data.json').then(resp => {\r\n    data = resp;\r\n    information(data[index]);\r\n    mediar.getAudio(data[index].audio);\r\n    // mediar.audio.currentTime = 270;\r\n})\r\nconst likeButton = $('.like');\r\nconst prevButton = $('.prev');\r\nconst playButton = $('.play');\r\nconst nextButton = $('.next');\r\nconst listButton = $('.list');\r\nconst imgBox = $('.img_box img');\r\nconst startTime = $('.start_time_box');\r\nconst lineBox = $('.line_box_top');\r\nconst controlBox = $('.line_box_bottom');\r\nconst circleControl = $('.line_box_top_circle');\r\nlet timer = null;\r\nlet deg = 0;\r\nlet lineTimer = null;\r\nlet lineTimer2 = null;\r\nprevButton.on('click', () => {\r\n    if (index === 0) {\r\n        information(data[4]);\r\n        index = 4;\r\n    } else {\r\n        information(data[--index]);\r\n    }\r\n    mediar.getAudio(data[index].audio);\r\n    judgeJump(mediar);\r\n})\r\nnextButton.on('click', () => {\r\n    if (index === 4) {\r\n        information(data[0]);\r\n        index = 0;\r\n    } else {\r\n        information(data[++index]);\r\n    }\r\n    mediar.getAudio(data[index].audio);\r\n    judgeJump(mediar);\r\n})\r\nlikeButton.on('click', () => {\r\n    if (getCookie(data[index].id)) {\r\n        if (getCookie(data[index].id) === 'like') {\r\n            document.cookie = `${data[index].id}=unlike`\r\n            likeButton.addClass('unlike');\r\n            likeButton.removeClass('liking');\r\n        } else {\r\n            document.cookie = `${data[index].id}=like`;\r\n            likeButton.removeClass('unlike');\r\n            likeButton.addClass('liking');\r\n        }\r\n    } else {\r\n        if (data[index].isLike) {\r\n            likeButton.addClass('unlike');\r\n            likeButton.removeClass('liking');\r\n            document.cookie = `${data[index].id}=unlike`\r\n        } else {\r\n            likeButton.removeClass('unlike');\r\n            likeButton.addClass('liking');\r\n            document.cookie = `${data[index].id}=like`\r\n        }\r\n    }\r\n})\r\nplayButton.on('click', () => {\r\n    judgePlaying(mediar)\r\n})\r\nlistButton.on('click', () => {\r\n\r\n})\r\nfunction judgePlaying(mediar) {\r\n    if (mediar.stats === 'pause') {\r\n        lineControl();\r\n        turn();\r\n        mediar.play();\r\n        playButton.removeClass('pause');\r\n        playButton.addClass('playing');\r\n    } else {\r\n        clearInterval(timer);\r\n        clearInterval(lineTimer);\r\n        clearInterval(lineTimer2);\r\n        mediar.pause();\r\n        playButton.removeClass('playing');\r\n        playButton.addClass('pause');\r\n    }\r\n}\r\n\r\nfunction judgeJump(mediar) {\r\n    reTurn();\r\n    deg = 0;\r\n    startTime.text(`00:00`);\r\n    lineBox.css({\r\n        'width': `2%`\r\n    });\r\n    if (mediar.stats === 'pause') {\r\n        mediar.pause();\r\n        playButton.removeClass('playing');\r\n        playButton.addClass('pause');\r\n    } else {\r\n        mediar.play();\r\n        playButton.removeClass('pause');\r\n        playButton.addClass('playing');\r\n    }\r\n}\r\n\r\ndocument.addEventListener('keydown', (e) => {\r\n    if (e.code === \"Space\") {\r\n        playButton.trigger('click');\r\n    }\r\n    if (e.code === \"ArrowRight\") {\r\n        nextButton.trigger('click');\r\n    }\r\n    if (e.code === \"ArrowLeft\") {\r\n        prevButton.trigger('click');\r\n    }\r\n})\r\n\r\nfunction turn() {\r\n    timer = setInterval(() => {\r\n        deg++;\r\n        imgBox.css({\r\n            'transform': `rotateZ(${deg}deg)`,\r\n            'transition': 'all 0.1s'\r\n        })\r\n    }, 100);\r\n}\r\n\r\nfunction reTurn() {\r\n    imgBox.css({\r\n        'transform': `rotateZ(0deg)`,\r\n        'transition': 'all 0s'\r\n    })\r\n}\r\n\r\nfunction lineControl() {\r\n    lineTimer = setInterval(() => {\r\n        curTime = Math.floor(mediar.audio.currentTime);\r\n        timeUpdate(curTime);\r\n    }, 500);\r\n    lineTimer2 = setInterval(() => {\r\n        curTime = Math.floor(mediar.audio.currentTime);\r\n        domUpdate(curTime);\r\n    }, 500);\r\n}\r\nfunction timeUpdate(curTime) {\r\n    if (curTime > 9) {\r\n        if (curTime > 60) {\r\n            curTimeM = Math.floor(curTime / 60);\r\n            curTimeS = (curTime - curTimeM * 60);\r\n            if (curTimeS > 9) {\r\n                startTime.text(`0${curTimeM}:${curTimeS}`);\r\n            } else {\r\n                startTime.text(`0${curTimeM}:0${curTimeS}`);\r\n            }\r\n        } else if (curTime === 60) {\r\n            startTime.text(`01:00`);\r\n        } else {\r\n            startTime.text(`00:${curTime}`);\r\n        }\r\n    } else {\r\n        startTime.text(`00:0${curTime}`);\r\n    }\r\n}\r\nfunction domUpdate(curTime) {\r\n    if (curTime === data[index].duration) {\r\n        nextButton.trigger('click');\r\n        return;\r\n    }\r\n    lineBox.css({\r\n        'width': `${Math.floor(curTime / data[index].duration * 100) + 2 + '%'}`\r\n    })\r\n}\r\n\r\ncircleControl.on('touchstart', (e) => {\r\n    clearInterval(lineTimer2);\r\n}).on('touchmove', (e) => {\r\n    percent = Math.floor((e.changedTouches[0].clientX - controlBox.offset().left) / controlBox.offset().width * 100);\r\n    if (percent >= 0 && percent <= 100) {\r\n        lineBox.css({\r\n            'width': `${percent}%`\r\n        })\r\n    }\r\n}).on('touchend', (e) => {\r\n    if(percent >= 0 && percent <= 100){\r\n        mediar.audio.currentTime = Math.floor(data[index].duration * percent / 100);\r\n    }else if(percent < 0 ) {\r\n        mediar.audio.currentTime = 0;\r\n    }else{\r\n        mediar.audio.currentTime = data[index].duration;\r\n    }\r\n    if (mediar.stats === 'pause') {\r\n        mediar.getAudio(data[index].audio);\r\n        lineControl();\r\n        turn();\r\n        mediar.play();\r\n        playButton.removeClass('pause');\r\n        playButton.addClass('playing');\r\n    }else{\r\n        mediar.play();\r\n    }\r\n})","import '../css/main.less';\r\nimport './event/bottomControl';","import randomColor from '../utils/radomColor';\r\nimport random from '../utils/random';\r\nimport getCookie from '../utils/getCookie';\r\nconst imgBox = $('.img_box img');\r\nconst nameBox = $('.name_box');\r\nconst starBox = $('.star_box');\r\nconst albumBox = $('.album_box');\r\nconst buttonLike = $('.button_box.like');\r\nconst endTime = $('.end_time_box');\r\nconst wrapper = $('.wrapper');\r\nexport default function information(data) {\r\n    console.log(data);\r\n    const color = randomColor(random(0, 6));\r\n    appendImg(data.image);\r\n    appendInfo(data.song, data.singer, data.album);\r\n    appendFavior(data);\r\n    appendTime(data.duration);\r\n    wrapper.css('top');\r\n    wrapper.css({\r\n        \"background-image\": `linear-gradient(to right bottom, ${color.color1}, ${color.color2});`\r\n    });\r\n}\r\nfunction appendImg(src) {\r\n    const img = new Image();\r\n    img.src = src;\r\n    imgBox.attr('src', src);\r\n}\r\nfunction appendInfo(name, star, album) {\r\n    nameBox.text(name);\r\n    starBox.text(star);\r\n    albumBox.text(album);\r\n}\r\nfunction appendFavior(data) {\r\n    if (getCookie(data.id)) {\r\n        if (getCookie(data.id) === 'like') {\r\n            buttonLike.removeClass('unlike');\r\n            buttonLike.addClass('liking');\r\n        } else {\r\n            buttonLike.addClass('unlike');\r\n            buttonLike.removeClass('liking');\r\n        }\r\n    } else {\r\n        if (data.isLike) {\r\n            buttonLike.removeClass('unlike');\r\n            buttonLike.addClass('liking');\r\n        } else {\r\n            buttonLike.addClass('unlike');\r\n            buttonLike.removeClass('liking');\r\n        }\r\n    }\r\n}\r\nfunction appendTime(time) {\r\n    let minute = parseInt(time / 60);\r\n    let second = time % 60;\r\n    if (minute < 10) {\r\n        minute = `0${minute}`;\r\n    }\r\n    if (second < 10) {\r\n        second = `0${second}`;\r\n    }\r\n    endTime.text(`${minute}:${second}`);\r\n}","export default function getCookie(id) {\r\n    const arr1 = document.cookie.replace(/\\s+/g,'').split(\";\");\r\n    for (const item of arr1) {\r\n        const arr2 = item.split('=')\r\n        if(parseInt(arr2[0]) === id){\r\n            return arr2[1];\r\n        }\r\n    }\r\n    return false;\r\n}","export default async function getData(url) {\r\n    return await fetch(url).then(resp => {\r\n        return resp.json();\r\n    })\r\n}\r\n","const colorArr1 = [\"#f2639\", \"#62efab\", \"#ef7658\", \"#ffe868\", \"#80e3f7\", \"#d781f9\"];\r\nconst colorArr2 = [\"#62efab\", \"#f2639\", \"#80e3f7\", \"#ef7658\", \"#d781f9\", \"#ffe868\"];\r\nexport default function randomColor(randomNum) {\r\n    return {\r\n        color1: colorArr1[randomNum],\r\n        color2: colorArr2[randomNum]\r\n    }\r\n}","export default function random(min, max) {\r\n    return Math.floor(Math.random(0, 1) * (max - min) + min);\r\n}"],"sourceRoot":""}